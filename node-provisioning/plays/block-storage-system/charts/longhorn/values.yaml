longhorn:
  global:
    imageRegistry: "docker.io"
    tolerations: [ ]
    # -- Node selector for nodes allowed to run user-deployed components such as Longhorn Manager, Longhorn UI, and Longhorn Driver Deployer.
    nodeSelector: { }
  image:
    longhorn:
      engine:
        repository: longhornio/longhorn-engine
        tag: v1.11.0
      manager:
        repository: longhornio/longhorn-manager
        tag: v1.11.0
      ui:
        repository: longhornio/longhorn-ui
        tag: v1.11.0
      instanceManager:
        repository: longhornio/longhorn-instance-manager
        tag: v1.11.0
      shareManager:
        repository: longhornio/longhorn-share-manager
        tag: v1.11.0
      backingImageManager:
        repository: longhornio/backing-image-manager
        tag: v1.11.0
      supportBundleKit:
        repository: longhornio/support-bundle-kit
        tag: v0.0.79
  service:
    ui:
      # -- Service type for Longhorn UI. (Options: "ClusterIP", "NodePort", "LoadBalancer", "Rancher-Proxy")
      type: ClusterIP
      # -- NodePort port number for Longhorn UI. When unspecified, Longhorn selects a free port between 30000 and 32767.
      nodePort: null
    manager:
      type: ClusterIP
      nodePort: ""

  persistence:
    defaultClass: true
    defaultFsType: ext4
    defaultClassReplicaCount: 2
    # -- Data locality of the default Longhorn StorageClass. (Options: "disabled", "best-effort")
    defaultDataLocality: disabled
    volumeBindingMode: "Immediate"
    # -- Setting that allows you to enable live migration of a Longhorn volume from one node to another.
    migratable: false
  defaultSettings:
    defaultReplicaCount: ~
    # -- PriorityClass for system-managed Longhorn components.
    # This setting can help prevent Longhorn components from being evicted under Node Pressure.
    # Notice that this will be applied to Longhorn user-deployed components by default if there are no priority class values set yet, such as `longhornManager.priorityClass`.
    priorityClass: &defaultPriorityClassNameRef "longhorn-critical"
  defaultBackupStore:
    # -- Endpoint used to access the default backupstore. (Options: "NFS", "CIFS", "AWS", "GCP", "AZURE")
    backupTarget: ~
    # -- Name of the Kubernetes secret associated with the default backup target.
    backupTargetCredentialSecret: ~
    # -- Number of seconds that Longhorn waits before checking the default backupstore for new backups. The default value is "300". When the value is "0", polling is disabled.
    pollInterval: ~
  longhornManager:
    log:
      # -- Format of Longhorn Manager logs. (Options: "plain", "json")
      format: json
    # -- PriorityClass for Longhorn Manager.
    priorityClass: *defaultPriorityClassNameRef
    # -- Toleration for Longhorn Manager on nodes allowed to run Longhorn components.
    tolerations: [ ]
    ## If you want to set tolerations for Longhorn Manager DaemonSet, delete the `[]` in the line above
    ## and uncomment this example block
    # - key: "key"
    #   operator: "Equal"
    #   value: "value"
    #   effect: "NoSchedule"
    # -- Resource requests and limits for Longhorn Manager pods.
    resources: ~
    # -- Node selector for Longhorn Manager. Specify the nodes allowed to run Longhorn Manager.
    nodeSelector: { }
    ## If you want to set node selector for Longhorn Manager DaemonSet, delete the `{}` in the line above
    ## and uncomment this example block
    #  label-key1: "label-value1"
    #  label-key2: "label-value2"
    # -- Annotation for the Longhorn Manager service.
    serviceAnnotations: { }
    ## If you want to set annotations for the Longhorn Manager service, delete the `{}` in the line above
    ## and uncomment this example block
    #  annotation-key1: "annotation-value1"
    #  annotation-key2: "annotation-value2"
    serviceLabels: { }
    ## If you want to set labels for the Longhorn Manager service, delete the `{}` in the line above
    ## and uncomment this example block
    #  label-key1: "label-value1"
    #  label-key2: "label-value2"
    ## DaemonSet update strategy. Default "100% unavailable" matches the upgrade
    ## flow (old managers removed before new start); override for rolling updates
    ## if you prefer that behavior.
    updateStrategy:
      rollingUpdate:
        maxUnavailable: "100%"
  longhornDriver:
    log:
      # -- Format of longhorn-driver logs. (Options: "plain", "json")
      format: json
    # -- PriorityClass for Longhorn Driver.
    priorityClass: *defaultPriorityClassNameRef
    # -- Toleration for Longhorn Driver on nodes allowed to run Longhorn components.
    tolerations: [ ]
    ## If you want to set tolerations for Longhorn Driver Deployer Deployment, delete the `[]` in the line above
    ## and uncomment this example block
    # - key: "key"
    #   operator: "Equal"
    #   value: "value"
    #   effect: "NoSchedule"
    # -- Node selector for Longhorn Driver. Specify the nodes allowed to run Longhorn Driver.
    nodeSelector: { }
    ## If you want to set node selector for Longhorn Driver Deployer Deployment, delete the `{}` in the line above
    ## and uncomment this example block
    #  label-key1: "label-value1"
    #  label-key2: "label-value2"
  longhornUI:
    # -- Replica count for Longhorn UI.
    replicas: 1
    # -- PriorityClass for Longhorn UI.
    priorityClass: *defaultPriorityClassNameRef
    # -- Affinity for Longhorn UI pods. Specify the affinity you want to use for Longhorn UI.
    affinity:
      podAntiAffinity:
        preferredDuringSchedulingIgnoredDuringExecution:
          - weight: 1
            podAffinityTerm:
              labelSelector:
                matchExpressions:
                  - key: app
                    operator: In
                    values:
                      - longhorn-ui
              topologyKey: kubernetes.io/hostname
    # -- Toleration for Longhorn UI on nodes allowed to run Longhorn components.
    tolerations: [ ]
    ## If you want to set tolerations for Longhorn UI Deployment, delete the `[]` in the line above
    ## and uncomment this example block
    # - key: "key"
    #   operator: "Equal"
    #   value: "value"
    #   effect: "NoSchedule"
    # -- Node selector for Longhorn UI. Specify the nodes allowed to run Longhorn UI.
    nodeSelector: { }
    ## If you want to set node selector for Longhorn UI Deployment, delete the `{}` in the line above
    ## and uncomment this example block
    #  label-key1: "label-value1"
    #  label-key2: "label-value2"
  ingress:
    # -- Setting that allows Longhorn to generate ingress records for the Longhorn UI service.
    enabled: false
    # -- IngressClass resource that contains ingress configuration, including the name of the Ingress controller.
    # ingressClassName can replace the kubernetes.io/ingress.class annotation used in earlier Kubernetes releases.
    ingressClassName: ~
    # -- Hostname of the Layer 7 load balancer.
    host: sslip.io
    # -- Extra hostnames for TLS (Subject Alternative Names - SAN). Used when you need multiple FQDNs for the same ingress.
    # Example:
    # extraHosts:
    #   - longhorn.example.com
    #   - longhorn-ui.internal.local
    extraHosts: [ ]
    # -- Setting that allows you to enable TLS on ingress records.
    tls: false
    # -- Setting that allows you to enable secure connections to the Longhorn UI service via port 443.
    secureBackends: false
    # -- TLS secret that contains the private key and certificate to be used for TLS. This setting applies only when TLS is enabled on ingress records.
    tlsSecret: longhorn.local-tls
    # -- Default ingress path. You can access the Longhorn UI by following the full ingress path {{host}}+{{path}}.
    path: /
    # -- Ingress path type. To maintain backward compatibility, the default value is "ImplementationSpecific".
    pathType: ImplementationSpecific
    ## If you're using kube-lego, you will want to add:
    ## kubernetes.io/tls-acme: true
    ##
    ## For a full list of possible ingress annotations, please see
    ## ref: https://github.com/kubernetes/ingress-nginx/blob/master/docs/annotations.md
    ##
    ## If tls is set to true, annotation ingress.kubernetes.io/secure-backends: "true" will automatically be set
    # -- Ingress annotations in the form of key-value pairs.
    annotations:
    #  kubernetes.io/ingress.class: nginx
    #  kubernetes.io/tls-acme: true

    # -- Secret that contains a TLS private key and certificate. Use secrets if you want to use your own certificates to secure ingresses.
    secrets:
    ## If you're providing your own certificates, please use this to add the certificates as secrets
    ## key and certificate should start with -----BEGIN CERTIFICATE----- or
    ## -----BEGIN RSA PRIVATE KEY-----
    ##
    ## name should line up with a tlsSecret set further up
    ## If you're using kube-lego, this is unneeded, as it will create the secret for you if it is not set
    ##
    ## It is also possible to create and manage the certificates outside of this helm chart
    ## Please see README.md for more information
    # - name: longhorn.local-tls
    #   key:
    #   certificate:
  httproute:
    # -- Setting that allows Longhorn to generate HTTPRoute records for the Longhorn UI service using Gateway API.
    enabled: false
    # -- Gateway references for HTTPRoute. Specify which Gateway(s) should handle this route.
    parentRefs: [ ]
    ## Example:
    # - name: gateway-name
    #   namespace: gateway-namespace
    #   # Optional fields with defaults:
    #   # group: gateway.networking.k8s.io  # default
    #   # kind: Gateway                      # default
    #   # sectionName: https                 # optional, targets a specific listener
    # -- List of hostnames for the HTTPRoute. Multiple hostnames are supported.
    hostnames: [ ]
    ## Example:
    # - longhorn.example.com
    # - longhorn.example.org
    # -- Default path for HTTPRoute. You can access the Longhorn UI by following the full path.
    path: /
    # -- Path match type for HTTPRoute. (Options: "Exact", "PathPrefix")
    pathType: PathPrefix
    # -- Annotations for the HTTPRoute resource in the form of key-value pairs.
    annotations: { }
    ## Example:
    #  annotation-key1: "annotation-value1"
  # -- Setting that allows you to enable pod security policies (PSPs) that allow privileged Longhorn pods to start. This setting applies only to clusters running Kubernetes 1.25 and earlier, and with the built-in Pod Security admission controller enabled.
  enablePSP: false
  # -- Specify override namespace, specifically this is useful for using longhorn as sub-chart and its release namespace is not the `longhorn-system`.
  namespaceOverride: ""
  # -- Annotation for the Longhorn Manager DaemonSet pods. This setting is optional.
  annotations: { }
  serviceAccount:
    # -- Annotations to add to the service account
    annotations: { }
  metrics:
    serviceMonitor:
      # -- Setting that allows the creation of a Prometheus ServiceMonitor resource for Longhorn Manager components.
      enabled: false
      # -- Additional labels for the Prometheus ServiceMonitor resource.
      additionalLabels: { }
      # -- Annotations for the Prometheus ServiceMonitor resource.
      annotations: { }
      # -- Interval at which Prometheus scrapes the metrics from the target.
      interval: ""
      # -- Timeout after which Prometheus considers the scrape to be failed.
      scrapeTimeout: ""
      # -- Configures the relabeling rules to apply the targetâ€™s metadata labels. See the [Prometheus Operator
      # documentation](https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1.Endpoint) for
      # formatting details.
      relabelings: [ ]
      # -- Configures the relabeling rules to apply to the samples before ingestion. See the [Prometheus Operator
      # documentation](https://prometheus-operator.dev/docs/api-reference/api/#monitoring.coreos.com/v1.Endpoint) for
      # formatting details.
      metricRelabelings: [ ]
